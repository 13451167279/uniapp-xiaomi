<view class="cartContainer"><view class="header"><text data-event-opts="{{[['tap',[['toCategory',['$event']]]]]}}" class="iconfont icon-right-copy" bindtap="__e"></text><text class="name">购物车</text><text class="iconfont icon-sousuo"></text></view><scroll-view class="mainScroll" scroll-y="true" enable-flex="{{true}}"><view class="scrollItem"><block wx:if="{{!userInfo.nickName}}"><view class="toLogin"><text class="desc">登录后享受更多优惠</text><text data-event-opts="{{[['tap',[['toLogin',['$event']]]]]}}" class="go" bindtap="__e">去登录<text class="iconfont icon-right"></text></text></view></block><block wx:if="{{cartList.length===0}}"><view class="cart"><view class="cartNull"><image src="../../static/images/cart/cart.png" mode></image><text class="text">购物车还是空的</text><view data-event-opts="{{[['tap',[['toCategory',['$event']]]]]}}" class="goShop" bindtap="__e">去逛逛</view></view></view></block><block wx:else><view class="cartList"><block wx:for="{{cartList}}" wx:for-item="cart" wx:for-index="index" wx:key="product_id"><view class="cartGoods"><view data-event-opts="{{[['tap',[['checkedCart',['$0'],[[['cartList','product_id',cart.product_id]]]]]]]}}" class="checkImg" bindtap="__e"><image hidden="{{!(cart.isChecked)}}" src="../../static/images/cart/check_press.png" mode></image><image hidden="{{!(!cart.isChecked)}}" src="../../static/images/cart/check_normal.png" mode></image></view><view class="goodsImg"><image src="{{cart.puzzle_url}}" mode></image></view><view class="goodsInfo"><text class="name">{{cart.name}}</text><text class="price">{{"售价："+cart.price+"元"}}</text><view class="count"><view class="changeNum"><text data-event-opts="{{[['tap',[['subCartNum',[-1,'$0'],[[['cartList','product_id',cart.product_id]]]]]]]}}" class="{{['sub','iconfont','icon-sub',(cart.count===1)?'active':'']}}" bindtap="__e"></text><text class="num">{{cart.count}}</text><text data-event-opts="{{[['tap',[['subCartNum',[1,'$0'],[[['cartList','product_id',cart.product_id]]]]]]]}}" class="add iconfont icon-jiahao" bindtap="__e"></text></view><text data-event-opts="{{[['tap',[['deleteCart',['$0',index],[[['cartList','product_id',cart.product_id]]]]]]]}}" class="del iconfont icon-shanchu3" bindtap="__e"></text></view></view></view></block></view></block><view class="recommend"><view class="title">商品推荐</view><view class="recommendGoods"><block wx:for="{{recommendList}}" wx:for-item="recommend" wx:for-index="index" wx:key="index"><view class="goods"><image src="{{recommend.image_url}}" mode></image><view class="goodsInfo"><text class="goodsName">{{recommend.name}}</text><text class="price">{{"￥"+recommend.price}}</text></view></view></block></view></view></view></scroll-view><view class="footer"><view class="money"><view class="checkImg"><image hidden="{{!(isAllCheck)}}" src="../../static/images/cart/check_press.png" mode data-event-opts="{{[['tap',[['checkedAll',['$event']]]]]}}" bindtap="__e"></image><image hidden="{{!(!isAllCheck)}}" src="../../static/images/cart/check_normal.png" mode data-event-opts="{{[['tap',[['checkedAll',['$event']]]]]}}" bindtap="__e"></image><text class="num">{{"共 "+checkCartNum+"件 金额："}}</text></view><text class="allMoney">{{checkAllPrice}}</text></view><view data-event-opts="{{[['tap',[['toCategory',['$event']]]]]}}" class="toShop" bindtap="__e">继续购物</view><view class="pay">去结算</view></view></view>